<section class="container">
  <div class="row">
    <div class="seperator5"></div>
    <div class="portlet-body flip-scroll">
      <table class="table table-bordered table-striped table-condensed flip-content table-hover" id="video_contents">
        <thead class="flip-content">
          <tr>
            <th width="20%">Title of Video</th>
            <th width="15%">Topic Name</th>
            <th width="15%">Course Name</th>
            <th width="20%">Tags</th>
            <th width="15%">Channel Name</th>
            <th width="15%">Vimeo URL</th>
          </tr>
        </thead>
        <tbody>
          
        </tbody>
      </table>
    </div>
  </div>
</section>

<script>
  $(document).ready(function(){
    var videoDatatable = $('#video_contents').dataTable({
      "bProcessing": true,
      "bServerSide": true,
      "iDisplayLength": 15,
      "bLengthChange": false,
      "sAjaxSource": "/admin/videos/search.json?course_id=<%= @course.presence.try(:id)%>&topic_id=<%= @topic.presence.try(:id)%>",
      "aoColumns": [
              { "mData": "title"},
              { "mData": "topic_name"},
              { "mData": "course_name"},
              { "mData": "tags", "bSortable": false},
              { "mData": "channel_name"},
              { "mData": "vimeo_url", "bSortable": false, "sClass" : "text-center"},
          ],
      "aaSorting": [[ 1, "asc" ]] });
  
    $("#video_contents_filter").append('<select class="filter_column_names" id="column_names"><option value="">ALL</option><option value="title">Title</option><option value="topic_name">Topic Name</option><option value="course_name">Course Name</option><option value="channel_name">Channel Name</option>select>')
    
    $('select#column_names').change( function() { videoDatatable.fnFilter( $(this).val(), 1 ); } );
  })
</script>

